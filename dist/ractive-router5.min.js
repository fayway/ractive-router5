!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ractive"),require("router5"),require("router5/plugins/logger"),require("router5/plugins/listeners"),require("router5/plugins/browser")):"function"==typeof define&&define.amd?define(["exports","ractive","router5","router5/plugins/logger","router5/plugins/listeners","router5/plugins/browser"],t):t(e.RactiveRouter5=e.RactiveRouter5||{},e.Ractive,e.createRouter,e.loggerPlugin,e.listenersPlugin,e.browserPlugin)}(this,function(e,t,r,o,i,n){"use strict";function u(e){var t=e.find(function(e){return!0===e.default});return r(e,{defaultRoute:t?t.name:void 0,allowNotFound:!0,autoCleanUp:!1}).usePlugin(o).usePlugin(i()).usePlugin(n({useHash:!0}))}t=t&&"default"in t?t.default:t,r=r&&"default"in r?r.default:r,o=o&&"default"in o?o.default:o,i=i&&"default"in i?i.default:i,n=n&&"default"in n?n.default:n;var a=t.extend({template:'\n    <a href="{{path}}" class="{{linkClassName}}">\n        {{>content}}\n    </a>\n  ',data:{activeClassName:"active",strictEquality:!0,ignoreQueryParams:!0},getRouter:function(){var e=this.findParent("RouterProvider");if(!e)throw new Error("BaseLink Component must be placed within a RouterProvider Component");return e.get("router")},oninit:function(){var e=this;this.router=this.getRouter();var t=this.router.buildPath(this.get("routeName"),this.get("routeParams"));this.set("path","/#"+t),this.isActive=function(){var t=e.router.isActive(e.get("routeName"),e.get("routeParams"),e.get("strictEquality"),e.get("ignoreQueryParams")),r=e.get("className")?e.get("className").split(" "):[],o=r.concat(t?[e.get("activeClassName")]:[]).join(" ");e.set("linkClassName",o)},this.set("linkClassName",this.get("className")),this.router.addListener(this.isActive)},onteardown:function(){this.router.removeListener(this.isActive)}}),s=t.extend({template:"\n    {{#if active}}\n      {{yield}}\n    {{/if}}\n  ",data:{route:void 0,active:!1},oninit:function(){var e=this;console.log("NodeRoute oninit",this.get("routeNode"));var t=this.findParent("RouterProvider");if(!t)throw new Error("NodeRoute Component must be placed within a RouterProvider Component");t.observe("route",function(t){e.set("route",t),e.set("active",t&&0===t.name.indexOf(e.get("routeNode")))})}});t.components.BaseLink=a,t.components.NodeRoute=s;var l=t.extend({data:{route:null},template:"\n      {{>content}}\n  ",oninit:function(){var e=this;this.router=this.get("router"),this.mapRouteStateToData=function(t){e.set("route",t)},this.router.addListener(this.mapRouteStateToData)},oncomplete:function(){var e=this.router.getRoutesConfig(),t=e.find(function(e){return e.home});t&&this.router.start(t.path)},onteardown:function(){this.router.removeListener(this.mapRouteStateToData)}}),d={BaseLink:a,createRouter:u,RouterProvider:l,NodeRoute:s};e.default=d,e.BaseLink=a,e.createAppRouter=createAppRouter,e.RouterProvider=l,e.NodeRoute=s,Object.defineProperty(e,"__esModule",{value:!0})});