!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ractive"),require("router5"),require("router5/plugins/logger"),require("router5/plugins/listeners"),require("router5/plugins/browser")):"function"==typeof define&&define.amd?define(["exports","ractive","router5","router5/plugins/logger","router5/plugins/listeners","router5/plugins/browser"],t):t(e.RactiveRouter5=e.RactiveRouter5||{},e.Ractive,e.createRouter,e.loggerPlugin,e.listenersPlugin,e.browserPlugin)}(this,function(e,t,r,i,n,o){"use strict";function u(e,t){void 0===t&&(t=!1);var u=e.find(function(e){return e["default"]===!0}),a=r(e,{defaultRoute:u?u.name:void 0}).usePlugin(i).usePlugin(o({useHash:!0}));return t&&a.usePlugin(n()),a}t="default"in t?t["default"]:t,r="default"in r?r["default"]:r,i="default"in i?i["default"]:i,n="default"in n?n["default"]:n,o="default"in o?o["default"]:o;var a=t.extend({template:'\n    <a href="{{path}}" class="{{linkClassName}}">\n        {{>content}}\n    </a>\n  ',data:function(){return{activeClassName:"active",strictEquality:!0,ignoreQueryParams:!0}},getRouter:function(){var e=this.findParent("RouterProvider");if(!e)throw new Error("BaseLink Component must be placed within a RouterProvider Component");return e.get("router")},oninit:function(){var e=this;this.router=this.getRouter();var t=this.router.buildPath(this.get("routeName"),this.get("routeParams"));this.set("path","/#"+t),this.isActive=function(){var t=e.router.isActive(e.get("routeName"),e.get("routeParams"),e.get("strictEquality"),e.get("ignoreQueryParams")),r=e.get("className")?e.get("className").split(" "):[],i=r.concat(t?[e.get("activeClassName")]:[]).join(" ");e.set("linkClassName",i)},this.set("linkClassName",this.get("className")),this.router.addListener(this.isActive)},onteardown:function(){this.router.removeListener(this.isActive)}}),s=t.extend({template:"\n    {{#if active}}\n      {{yield}}\n    {{/if}}\n  ",data:function(){return{active:!1}},oninit:function(){var e=this;this.observe("route",function(t){e.set("route",t),e.set("active",t&&0===t.name.indexOf(e.get("routeNode")))})}});t.components.BaseLink=a,t.components.NodeRoute=s;var l=t.extend({data:function(){return{route:null}},template:"\n      {{>content}}\n  ",oninit:function(){var e=this;this.router=this.get("router"),this.mapRouteStateToData=function(t){e.set("route",t)},this.router.addListener(this.mapRouteStateToData)},oncomplete:function(){this.router.start(),this.router.navigate("inbox")},onteardown:function(){this.router.removeListener(this.mapRouteStateToData)}}),c={BaseLink:a,configureRouter:u,RouterProvider:l,NodeRoute:s};e["default"]=c,e.BaseLink=a,e.configureRouter=u,e.RouterProvider=l,e.NodeRoute=s,Object.defineProperty(e,"__esModule",{value:!0})});