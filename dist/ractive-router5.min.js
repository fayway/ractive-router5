!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ractive"),require("router5"),require("router5/plugins/listeners"),require("router5/plugins/browser")):"function"==typeof define&&define.amd?define(["exports","ractive","router5","router5/plugins/listeners","router5/plugins/browser"],t):t(e.RactiveRouter5=e.RactiveRouter5||{},e.Ractive,e.router5,e.listenersPlugin,e.browserPlugin)}(this,function(e,t,r,i,n){"use strict";t=t&&"default"in t?t.default:t,i=i&&"default"in i?i.default:i,n=n&&"default"in n?n.default:n;var o=t.extend({template:'\n    <a href="{{path}}" class="{{linkClassName}}">\n        {{>content}}\n    </a>\n  ',data:{activeClassName:"active",strictEquality:!0,ignoreQueryParams:!0},getRouter:function(){var e=this.findParent("RouterProvider");if(!e)throw new Error("BaseLink Component must be placed within a RouterProvider Component");return e.get("router")},oninit:function(){var e=this;this.router=this.getRouter();var t=this.router.buildPath(this.get("routeName"),this.get("routeParams"));this.set("path","/#"+t),this.isActive=function(){var t=e.router.isActive(e.get("routeName"),e.get("routeParams"),e.get("strictEquality"),e.get("ignoreQueryParams")),r=(e.get("className")?e.get("className").split(" "):[]).concat(t?[e.get("activeClassName")]:[]).join(" ");e.set("linkClassName",r)},this.set("linkClassName",this.get("className")),this.router.addListener(this.isActive)},onteardown:function(){this.router.removeListener(this.isActive)}}),s=function(e){var t=e.find(function(e){return!0===e.default}),o=r.createRouter(e,{defaultRoute:t?t.name:void 0,allowNotFound:!0}).usePlugin(r.loggerPlugin).usePlugin(i()).usePlugin(n({useHash:!0}));return o.getRoutesConfig=function(){return e},o},u=t.extend({name:"NodeRoute",template:"\n  {{#if isActive}}\n    {{yield}}\n  {{/if}}\n  ",oninit:function(){var e=this;t.DEBUG&&console.log("NodeRoute Init",this.get("name"));var r=this.findParent("RouterProvider");if(!r)throw new Error("NodeRoute Component must be placed within a RouterProvider Container");this.router=r.get("router"),this.listener=function(t){e.set("isActive",0===t.name.indexOf(e.get("name"))),e.set("route",t)},this.router.addListener(this.listener)},onteardown:function(){this.router.removeListener(this.listener)}}),a=t.extend({name:"RouterProvider",template:"\n    {{#if ready}}\n      {{>content}}\n    {{/if}}\n  ",data:{ready:!1},oninit:function(){t.DEBUG&&console.log("RouterProvider init")},oncomplete:function(){var e=this;console.log("RouterProvider complete"),this.get().router.start("home",function(){return e.set("ready",!0)})}});t.components.RouterProvider=a,t.components.NodeRoute=u,t.components.BaseLink=o;var l={BaseLink:o,createRouter:s,RouterProvider:a,NodeRoute:u};e.default=l,e.BaseLink=o,e.createRouter=s,e.RouterProvider=a,e.NodeRoute=u,Object.defineProperty(e,"__esModule",{value:!0})});